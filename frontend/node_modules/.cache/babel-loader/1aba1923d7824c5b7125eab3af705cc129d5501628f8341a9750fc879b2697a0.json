{"ast":null,"code":"var _jsxFileName = \"E:\\\\local-explorer\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [places, setPlaces] = useState([]);\n  const [filteredPlaces, setFilteredPlaces] = useState([]);\n  const [location, setLocation] = useState(\"\");\n  const [selectedFilter, setSelectedFilter] = useState(\"ALL\");\n\n  // Mapping your button labels to Google Place types\n  const filterMap = {\n    ALL: null,\n    SCHOOLS: \"school\",\n    HOSPITALS: \"hospital\",\n    RESTAURANTS: \"restaurant\",\n    THEATERS: \"movie_theater\",\n    \"MEDICAL SHOPS\": \"pharmacy\"\n  };\n  useEffect(() => {\n    if (location.trim() === \"\") {\n      setPlaces([]);\n      setFilteredPlaces([]);\n      return;\n    }\n    const fetchPlaces = async () => {\n      try {\n        const response = await axios.get(`http://localhost:5000/api/places?location=${location}`);\n        console.log(\"API Response:\", response.data); // Debug log\n        setPlaces(response.data);\n        applyFilter(response.data, selectedFilter);\n      } catch (error) {\n        console.error(\"Error fetching places:\", error);\n      }\n    };\n    fetchPlaces();\n  }, [location]);\n  const applyFilter = (data, filter) => {\n    const type = filterMap[filter];\n    if (!type) {\n      setFilteredPlaces(data); // Show all if filter is ALL\n    } else {\n      const filtered = data.filter(place => place.types.includes(type));\n      if (filtered.length > 0) {\n        setFilteredPlaces(filtered);\n      } else {\n        console.warn(\"No results for filter:\", filter);\n        setFilteredPlaces(data); // fallback to all places\n      }\n    }\n  };\n  const handleFilterChange = filter => {\n    setSelectedFilter(filter);\n    applyFilter(places, filter);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: \"center\",\n      padding: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        color: \"dodgerblue\"\n      },\n      children: \"\\uD83C\\uDF0E Local Explorer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Search a location e.g. Rampally\",\n      value: location,\n      onChange: e => setLocation(e.target.value),\n      style: {\n        width: \"60%\",\n        padding: \"10px\",\n        fontSize: \"16px\",\n        marginBottom: \"15px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: \"20px\"\n      },\n      children: Object.keys(filterMap).map(filter => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleFilterChange(filter),\n        style: {\n          margin: \"5px\",\n          padding: \"10px 15px\",\n          backgroundColor: selectedFilter === filter ? \"#007BFF\" : \"#e0e0e0\",\n          color: selectedFilter === filter ? \"#fff\" : \"#000\",\n          border: \"none\",\n          borderRadius: \"5px\",\n          cursor: \"pointer\"\n        },\n        children: filter\n      }, filter, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), filteredPlaces.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No places found for this filter/location.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: {\n        listStyle: \"none\",\n        padding: 0\n      },\n      children: filteredPlaces.map(place => /*#__PURE__*/_jsxDEV(\"li\", {\n        style: {\n          margin: \"10px auto\",\n          padding: \"10px\",\n          border: \"1px solid #ccc\",\n          borderRadius: \"8px\",\n          width: \"70%\",\n          textAlign: \"left\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: place.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: place.formatted_address\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u2B50 Rating: \", place.rating || \"N/A\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Type: \", place.types.join(\", \")]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 15\n        }, this)]\n      }, place.place_id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"pvMTE5TR0hAOGxUjOS6WUXJw2DU=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","App","_s","places","setPlaces","filteredPlaces","setFilteredPlaces","location","setLocation","selectedFilter","setSelectedFilter","filterMap","ALL","SCHOOLS","HOSPITALS","RESTAURANTS","THEATERS","trim","fetchPlaces","response","get","console","log","data","applyFilter","error","filter","type","filtered","place","types","includes","length","warn","handleFilterChange","style","textAlign","padding","children","color","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","e","target","width","fontSize","marginBottom","Object","keys","map","onClick","margin","backgroundColor","border","borderRadius","cursor","listStyle","name","formatted_address","rating","join","place_id","_c","$RefreshReg$"],"sources":["E:/local-explorer/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nfunction App() {\n  const [places, setPlaces] = useState([]);\n  const [filteredPlaces, setFilteredPlaces] = useState([]);\n  const [location, setLocation] = useState(\"\");\n  const [selectedFilter, setSelectedFilter] = useState(\"ALL\");\n\n  // Mapping your button labels to Google Place types\n  const filterMap = {\n    ALL: null,\n    SCHOOLS: \"school\",\n    HOSPITALS: \"hospital\",\n    RESTAURANTS: \"restaurant\",\n    THEATERS: \"movie_theater\",\n    \"MEDICAL SHOPS\": \"pharmacy\",\n  };\n\n  useEffect(() => {\n    if (location.trim() === \"\") {\n      setPlaces([]);\n      setFilteredPlaces([]);\n      return;\n    }\n\n    const fetchPlaces = async () => {\n      try {\n        const response = await axios.get(\n          `http://localhost:5000/api/places?location=${location}`\n        );\n        console.log(\"API Response:\", response.data); // Debug log\n        setPlaces(response.data);\n        applyFilter(response.data, selectedFilter);\n      } catch (error) {\n        console.error(\"Error fetching places:\", error);\n      }\n    };\n\n    fetchPlaces();\n  }, [location]);\n\n  const applyFilter = (data, filter) => {\n    const type = filterMap[filter];\n    if (!type) {\n      setFilteredPlaces(data); // Show all if filter is ALL\n    } else {\n      const filtered = data.filter((place) =>\n        place.types.includes(type)\n      );\n      if (filtered.length > 0) {\n        setFilteredPlaces(filtered);\n      } else {\n        console.warn(\"No results for filter:\", filter);\n        setFilteredPlaces(data); // fallback to all places\n      }\n    }\n  };\n\n  const handleFilterChange = (filter) => {\n    setSelectedFilter(filter);\n    applyFilter(places, filter);\n  };\n\n  return (\n    <div style={{ textAlign: \"center\", padding: \"20px\" }}>\n      <h1 style={{ color: \"dodgerblue\" }}>🌎 Local Explorer</h1>\n      <input\n        type=\"text\"\n        placeholder=\"Search a location e.g. Rampally\"\n        value={location}\n        onChange={(e) => setLocation(e.target.value)}\n        style={{\n          width: \"60%\",\n          padding: \"10px\",\n          fontSize: \"16px\",\n          marginBottom: \"15px\",\n        }}\n      />\n      <div style={{ marginBottom: \"20px\" }}>\n        {Object.keys(filterMap).map((filter) => (\n          <button\n            key={filter}\n            onClick={() => handleFilterChange(filter)}\n            style={{\n              margin: \"5px\",\n              padding: \"10px 15px\",\n              backgroundColor:\n                selectedFilter === filter ? \"#007BFF\" : \"#e0e0e0\",\n              color: selectedFilter === filter ? \"#fff\" : \"#000\",\n              border: \"none\",\n              borderRadius: \"5px\",\n              cursor: \"pointer\",\n            }}\n          >\n            {filter}\n          </button>\n        ))}\n      </div>\n      {filteredPlaces.length === 0 ? (\n        <p>No places found for this filter/location.</p>\n      ) : (\n        <ul style={{ listStyle: \"none\", padding: 0 }}>\n          {filteredPlaces.map((place) => (\n            <li\n              key={place.place_id}\n              style={{\n                margin: \"10px auto\",\n                padding: \"10px\",\n                border: \"1px solid #ccc\",\n                borderRadius: \"8px\",\n                width: \"70%\",\n                textAlign: \"left\",\n              }}\n            >\n              <h3>{place.name}</h3>\n              <p>{place.formatted_address}</p>\n              <p>⭐ Rating: {place.rating || \"N/A\"}</p>\n              <p>Type: {place.types.join(\", \")}</p>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}